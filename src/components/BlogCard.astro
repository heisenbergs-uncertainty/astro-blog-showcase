---
import type { CollectionEntry } from "astro:content";

interface Props {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<a href={`/blog/${post.slug}`} class="block group h-full">
    <div
        class="glass-panel h-full rounded-xl overflow-hidden card-hover p-6 flex flex-col"
    >
        <div class="flex-grow">
            <h3
                class="text-2xl font-bold text-gray-100 mb-2 group-hover:text-[var(--color-primary)] transition-colors"
            >
                {post.data.title}
            </h3>
            <p class="text-sm text-gray-400 mb-4">
                <time datetime={post.data.pubDate.toISOString()}>
                    {
                        post.data.pubDate.toLocaleDateString("en-us", {
                            year: "numeric",
                            month: "long",
                            day: "numeric",
                        })
                    }
                </time>
            </p>
            <div class="text-gray-300 mb-4 line-clamp-3">
                {post.data.description}
            </div>
        </div>

        {
            post.data.tags && (
                <div class="flex flex-wrap gap-2 mt-4">
                    {post.data.tags.map((tag) => (
                        <span class="px-3 py-1 bg-blue-500/10 text-blue-300 border border-blue-500/20 rounded-full text-xs font-medium">
                            #{tag}
                        </span>
                    ))}
                </div>
            )
        }
    </div>
</a>
